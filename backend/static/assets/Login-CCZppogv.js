import{r as w,j as e,S as t,I as y,L as m,B as b,a as n,b as f,T as l}from"./index-BSvnsiwi.js";import{A as S}from"./AuthSocial-BM5ngiMv.js";import{c as v,a as c,u as L,F as k,A as I,R as d,L as h,o as E}from"./RHFTextField-Dstqy9Cw.js";import{I as F,E as P,a as A}from"./EyeSlash.esm-DyaowK8y.js";const $=void 0,q=()=>{const[o,p]=w.useState(!1),u=v().shape({email:c().required("Email is required").email("Email must be a valid email address"),password:c().required("Password is required")}),r=L({resolver:E(u)}),{handleSubmit:x,formState:{errors:i}}=r,g=async s=>{const j=n.loading("please wait");f.post(`https://${$}/logi_n/`,{email:s.email,password:s.password}).then(a=>{console.log(a),localStorage.setItem("access_token",a.data.token.access),localStorage.setItem("refresh_token",a.data.token.refresh),window.location.href="/"}).catch(a=>{console.log(a),n.update(j,{render:`${a.response.data.error}`,autoClose:!0,isLoading:!1,type:"warning"})})};return e.jsxs(k,{methods:r,onSubmit:x(g),children:[e.jsxs(t,{spacing:3,children:[!!i.afterSubmit&&e.jsx(I,{severity:"error",children:i.afterSubmit.message}),e.jsx(d,{name:"email",label:"Email address"}),e.jsx(d,{name:"password",label:"Password",type:o?"text":"password",InputProps:{endAdornment:e.jsx(F,{children:e.jsx(y,{onClick:()=>{p(!o)},children:o?e.jsx(P,{}):e.jsx(A,{})})})}})]}),e.jsx(t,{alignItems:"flex-end",sx:{my:2},children:e.jsx(h,{component:m,to:"/auth/reset-password",variant:"body2",color:"inherit",underline:"always",children:"Forgot Password?"})}),e.jsx(b,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",sx:{bgcolor:"text.primary",color:s=>s.palette.mode==="light"?"common.white":"grey.800","&:hover":{bgcolor:"text.primary",color:s=>s.palette.mode==="light"?"common.white":"grey.800"}},children:"Login"})]})},T=()=>e.jsx(e.Fragment,{children:e.jsxs(t,{spacing:2,sx:{mb:5,position:"relative"},children:[e.jsx(l,{variant:"h4",children:"Login to Noto Chats"}),e.jsxs(t,{direction:"row",spacing:.5,children:[e.jsx(l,{variant:"body2",children:"New User?"}),e.jsx(h,{to:"/auth/register",component:m,variant:"subtitle2",children:"Create an account"})]}),e.jsx(q,{}),e.jsx(S,{})]})});export{T as default};
